{"ast":null,"code":"import axios from 'axios';\nexport const addToCart = async (productId, quantity) => {\n  if (!productId) {\n    console.error('Invalid product ID');\n    return null;\n  }\n  try {\n    console.log('Adding to cart:', {\n      productId,\n      quantity\n    });\n    const userInfo = JSON.parse(localStorage.getItem('userInfo'));\n    if (!userInfo || !userInfo.id) {\n      console.error('User not logged in');\n      return null;\n    }\n    const response = await axios.post(`http://localhost:5000/api/cart/${userInfo.id}/add`, {\n      productId,\n      quantity\n    }, {\n      withCredentials: true\n    });\n    console.log('Add to cart response:', response.data);\n\n    // Return the updated cart count\n    return response.data.cartItemsCount;\n  } catch (error) {\n    console.error('Error adding product to cart:', error);\n    if (error.response) {\n      // The request was made and the server responded with a status code\n      // that falls out of the range of 2xx\n      console.error('Error data:', error.response.data);\n      console.error('Error status:', error.response.status);\n      console.error('Error headers:', error.response.headers);\n    } else if (error.request) {\n      // The request was made but no response was received\n      console.error('Error request:', error.request);\n    } else {\n      // Something happened in setting up the request that triggered an Error\n      console.error('Error message:', error.message);\n    }\n    // Handle error (e.g., show error message to user)\n    return null;\n  }\n};\n\n// Dispatch the custom event\nwindow.dispatchEvent(new Event('cartUpdated'));","map":{"version":3,"names":["axios","addToCart","productId","quantity","console","error","log","userInfo","JSON","parse","localStorage","getItem","id","response","post","withCredentials","data","cartItemsCount","status","headers","request","message","window","dispatchEvent","Event"],"sources":["C:/Users/user/Documents/portfolio/MERN/project/client/src/components/CartUtils/addToCart.jsx"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const addToCart = async (productId, quantity) => {\r\n    if (!productId) {\r\n        console.error('Invalid product ID');\r\n        return null;\r\n    }\r\n\r\n    try {\r\n        console.log('Adding to cart:', { productId, quantity });\r\n        const userInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n        if (!userInfo || !userInfo.id) {\r\n            console.error('User not logged in');\r\n            return null;\r\n        }\r\n\r\n        const response = await axios.post(`http://localhost:5000/api/cart/${userInfo.id}/add`, {\r\n            productId,\r\n            quantity\r\n        }, { withCredentials: true });\r\n        console.log('Add to cart response:', response.data);\r\n        \r\n        // Return the updated cart count\r\n        return response.data.cartItemsCount;\r\n    } catch (error) {\r\n        console.error('Error adding product to cart:', error);\r\n        if (error.response) {\r\n            // The request was made and the server responded with a status code\r\n            // that falls out of the range of 2xx\r\n            console.error('Error data:', error.response.data);\r\n            console.error('Error status:', error.response.status);\r\n            console.error('Error headers:', error.response.headers);\r\n        } else if (error.request) {\r\n            // The request was made but no response was received\r\n            console.error('Error request:', error.request);\r\n        } else {\r\n            // Something happened in setting up the request that triggered an Error\r\n            console.error('Error message:', error.message);\r\n        }\r\n        // Handle error (e.g., show error message to user)\r\n        return null;\r\n    }\r\n};\r\n\r\n// Dispatch the custom event\r\nwindow.dispatchEvent(new Event('cartUpdated'));\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,SAAS,GAAG,MAAAA,CAAOC,SAAS,EAAEC,QAAQ,KAAK;EACpD,IAAI,CAACD,SAAS,EAAE;IACZE,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAC;IACnC,OAAO,IAAI;EACf;EAEA,IAAI;IACAD,OAAO,CAACE,GAAG,CAAC,iBAAiB,EAAE;MAAEJ,SAAS;MAAEC;IAAS,CAAC,CAAC;IACvD,MAAMI,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC;IAC7D,IAAI,CAACJ,QAAQ,IAAI,CAACA,QAAQ,CAACK,EAAE,EAAE;MAC3BR,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAC;MACnC,OAAO,IAAI;IACf;IAEA,MAAMQ,QAAQ,GAAG,MAAMb,KAAK,CAACc,IAAI,CAAC,kCAAkCP,QAAQ,CAACK,EAAE,MAAM,EAAE;MACnFV,SAAS;MACTC;IACJ,CAAC,EAAE;MAAEY,eAAe,EAAE;IAAK,CAAC,CAAC;IAC7BX,OAAO,CAACE,GAAG,CAAC,uBAAuB,EAAEO,QAAQ,CAACG,IAAI,CAAC;;IAEnD;IACA,OAAOH,QAAQ,CAACG,IAAI,CAACC,cAAc;EACvC,CAAC,CAAC,OAAOZ,KAAK,EAAE;IACZD,OAAO,CAACC,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;IACrD,IAAIA,KAAK,CAACQ,QAAQ,EAAE;MAChB;MACA;MACAT,OAAO,CAACC,KAAK,CAAC,aAAa,EAAEA,KAAK,CAACQ,QAAQ,CAACG,IAAI,CAAC;MACjDZ,OAAO,CAACC,KAAK,CAAC,eAAe,EAAEA,KAAK,CAACQ,QAAQ,CAACK,MAAM,CAAC;MACrDd,OAAO,CAACC,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACQ,QAAQ,CAACM,OAAO,CAAC;IAC3D,CAAC,MAAM,IAAId,KAAK,CAACe,OAAO,EAAE;MACtB;MACAhB,OAAO,CAACC,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACe,OAAO,CAAC;IAClD,CAAC,MAAM;MACH;MACAhB,OAAO,CAACC,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAACgB,OAAO,CAAC;IAClD;IACA;IACA,OAAO,IAAI;EACf;AACJ,CAAC;;AAED;AACAC,MAAM,CAACC,aAAa,CAAC,IAAIC,KAAK,CAAC,aAAa,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}