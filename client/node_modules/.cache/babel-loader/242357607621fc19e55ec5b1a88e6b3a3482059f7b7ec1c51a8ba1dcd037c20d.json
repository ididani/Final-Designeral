{"ast":null,"code":"import axios from'axios';export const addToCart=async(productId,quantity)=>{if(!productId){console.error('Invalid product ID');return null;}try{console.log('Adding to cart:',{productId,quantity});const userInfo=JSON.parse(localStorage.getItem('userInfo'));if(!userInfo||!userInfo.id){console.error('User not logged in');return null;}const response=await axios.post(`https://designeral.onrender.com/api/cart/${userInfo.id}/add`,{productId,quantity},{withCredentials:true});console.log('Add to cart response:',response.data);return response.data.cartItemsCount;}catch(error){console.error('Error adding product to cart:',error);if(error.response){console.error('Error data:',error.response.data);console.error('Error status:',error.response.status);console.error('Error headers:',error.response.headers);}else if(error.request){console.error('Error request:',error.request);}else{console.error('Error message:',error.message);}return null;}};","map":{"version":3,"names":["axios","addToCart","productId","quantity","console","error","log","userInfo","JSON","parse","localStorage","getItem","id","response","post","withCredentials","data","cartItemsCount","status","headers","request","message"],"sources":["C:/Users/user/Desktop/designeral/client/src/components/CartUtils/addToCart.jsx"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const addToCart = async (productId, quantity) => {\r\n    if (!productId) {\r\n        console.error('Invalid product ID');\r\n        return null;\r\n    }\r\n\r\n    try {\r\n        console.log('Adding to cart:', { productId, quantity });\r\n        const userInfo = JSON.parse(localStorage.getItem('userInfo'));\r\n        if (!userInfo || !userInfo.id) {\r\n            console.error('User not logged in');\r\n            return null;\r\n        }\r\n\r\n        const response = await axios.post(`https://designeral.onrender.com/api/cart/${userInfo.id}/add`, {\r\n            productId,\r\n            quantity\r\n        }, { withCredentials: true });\r\n        console.log('Add to cart response:', response.data);\r\n\r\n        return response.data.cartItemsCount;\r\n    } catch (error) {\r\n        console.error('Error adding product to cart:', error);\r\n        if (error.response) {\r\n            console.error('Error data:', error.response.data);\r\n            console.error('Error status:', error.response.status);\r\n            console.error('Error headers:', error.response.headers);\r\n        } else if (error.request) {\r\n            console.error('Error request:', error.request);\r\n        } else {\r\n            console.error('Error message:', error.message);\r\n        }\r\n        return null;\r\n    }\r\n};\r\n\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,MAAO,MAAM,CAAAC,SAAS,CAAG,KAAAA,CAAOC,SAAS,CAAEC,QAAQ,GAAK,CACpD,GAAI,CAACD,SAAS,CAAE,CACZE,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAC,CACnC,MAAO,KAAI,CACf,CAEA,GAAI,CACAD,OAAO,CAACE,GAAG,CAAC,iBAAiB,CAAE,CAAEJ,SAAS,CAAEC,QAAS,CAAC,CAAC,CACvD,KAAM,CAAAI,QAAQ,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,CAC7D,GAAI,CAACJ,QAAQ,EAAI,CAACA,QAAQ,CAACK,EAAE,CAAE,CAC3BR,OAAO,CAACC,KAAK,CAAC,oBAAoB,CAAC,CACnC,MAAO,KAAI,CACf,CAEA,KAAM,CAAAQ,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,IAAI,CAAC,4CAA4CP,QAAQ,CAACK,EAAE,MAAM,CAAE,CAC7FV,SAAS,CACTC,QACJ,CAAC,CAAE,CAAEY,eAAe,CAAE,IAAK,CAAC,CAAC,CAC7BX,OAAO,CAACE,GAAG,CAAC,uBAAuB,CAAEO,QAAQ,CAACG,IAAI,CAAC,CAEnD,MAAO,CAAAH,QAAQ,CAACG,IAAI,CAACC,cAAc,CACvC,CAAE,MAAOZ,KAAK,CAAE,CACZD,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACrD,GAAIA,KAAK,CAACQ,QAAQ,CAAE,CAChBT,OAAO,CAACC,KAAK,CAAC,aAAa,CAAEA,KAAK,CAACQ,QAAQ,CAACG,IAAI,CAAC,CACjDZ,OAAO,CAACC,KAAK,CAAC,eAAe,CAAEA,KAAK,CAACQ,QAAQ,CAACK,MAAM,CAAC,CACrDd,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAACQ,QAAQ,CAACM,OAAO,CAAC,CAC3D,CAAC,IAAM,IAAId,KAAK,CAACe,OAAO,CAAE,CACtBhB,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAACe,OAAO,CAAC,CAClD,CAAC,IAAM,CACHhB,OAAO,CAACC,KAAK,CAAC,gBAAgB,CAAEA,KAAK,CAACgB,OAAO,CAAC,CAClD,CACA,MAAO,KAAI,CACf,CACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}