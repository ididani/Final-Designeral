{"ast":null,"code":"import React,{useState}from'react';import{Container,Form,Button,Alert}from'react-bootstrap';import axios from'axios';import{useNavigate,Link}from'react-router-dom';import NavigationBar from'../NavigationBar/NavigationBar';import Footer from'../Footer/Footer';import'./Register.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const navigate=useNavigate();const[newUser,setNewUser]=useState({username:\"\",email:\"\",password:\"\"});const[error,setError]=useState(\"\");const[alert,setAlert]=useState(\"\");const handleChange=e=>{setNewUser({...newUser,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();setError(\"\");setAlert(\"\");if(!newUser.username){setError('Username should not be empty');setAlert(\"danger\");return;}if(!newUser.email){setError('Email should not be empty');setAlert(\"danger\");return;}if(newUser.password.length<8){setError('Password should have at least 8 characters!');setAlert(\"danger\");return;}try{const response=await axios.post('http://localhost:5000/api/user/register/',newUser);console.log(\"Registration response:\",response.data);setAlert('success');setError(\"Registration successful! Redirecting to login...\");setTimeout(()=>navigate('/login'),2000);}catch(err){var _err$response,_err$response$data;console.error(\"Registration error:\",err);if(err.response){console.error(\"Error response:\",err.response.data);console.error(\"Error status:\",err.response.status);}else if(err.request){console.error(\"Error request:\",err.request);}else{console.error(\"Error message:\",err.message);}setAlert('danger');setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"An error occurred during registration. Please try again.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"register-page\",children:[/*#__PURE__*/_jsx(NavigationBar,{}),/*#__PURE__*/_jsx(Container,{className:\"register-container\",children:/*#__PURE__*/_jsxs(Form,{className:\"register-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"register-form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"register-form-label\",htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"register-form-control\",id:\"username\",type:\"text\",name:\"username\",value:newUser.username,onChange:handleChange,placeholder:\"Enter username\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"register-form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"register-form-label\",htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"register-form-control\",id:\"email\",type:\"email\",name:\"email\",value:newUser.email,onChange:handleChange,placeholder:\"Enter email\"})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"register-form-group\",children:[/*#__PURE__*/_jsx(Form.Label,{className:\"register-form-label\",htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"register-form-control\",id:\"password\",type:\"password\",name:\"password\",value:newUser.password,onChange:handleChange,placeholder:\"Enter password\"})]}),/*#__PURE__*/_jsx(Button,{className:\"register-submit-btn\",type:\"submit\",onClick:handleSubmit,children:\"Register\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"register-login-link\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"registration-alert\",children:error})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default Register;","map":{"version":3,"names":["React","useState","Container","Form","Button","Alert","axios","useNavigate","Link","NavigationBar","Footer","jsx","_jsx","jsxs","_jsxs","Register","navigate","newUser","setNewUser","username","email","password","error","setError","alert","setAlert","handleChange","e","target","name","value","handleSubmit","preventDefault","length","response","post","console","log","data","setTimeout","err","_err$response","_err$response$data","status","request","message","className","children","onSubmit","Group","Label","htmlFor","Control","id","type","onChange","placeholder","onClick","to"],"sources":["C:/Users/user/Documents/portfolio/MERN/project/client/src/components/Auth/Register.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { Container, Form, Button, Alert } from 'react-bootstrap'\r\nimport axios from 'axios'\r\nimport { useNavigate, Link } from 'react-router-dom'\r\nimport NavigationBar from '../NavigationBar/NavigationBar'\r\nimport Footer from '../Footer/Footer'\r\nimport './Register.css'\r\n\r\nconst Register = () => {\r\n    const navigate = useNavigate()\r\n    const [newUser, setNewUser] = useState({\r\n        username: \"\",\r\n        email: \"\",\r\n        password: \"\"\r\n    })\r\n    const [error, setError] = useState(\"\")\r\n    const [alert, setAlert] = useState(\"\")\r\n\r\n    const handleChange = (e) => {\r\n        setNewUser({ ...newUser, [e.target.name]: e.target.value })\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault()\r\n        setError(\"\")\r\n        setAlert(\"\")\r\n\r\n        if (!newUser.username) {\r\n            setError('Username should not be empty');\r\n            setAlert(\"danger\")\r\n            return;\r\n        }\r\n        if (!newUser.email) {\r\n            setError('Email should not be empty');\r\n            setAlert(\"danger\")\r\n            return;\r\n        }\r\n        if (newUser.password.length < 8) {\r\n            setError('Password should have at least 8 characters!');\r\n            setAlert(\"danger\")\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/api/user/register/', newUser)\r\n            console.log(\"Registration response:\", response.data)\r\n            setAlert('success')\r\n            setError(\"Registration successful! Redirecting to login...\")\r\n            setTimeout(() => navigate('/login'), 2000)\r\n        } catch (err) {\r\n            console.error(\"Registration error:\", err)\r\n            if (err.response) {\r\n                console.error(\"Error response:\", err.response.data)\r\n                console.error(\"Error status:\", err.response.status)\r\n            } else if (err.request) {\r\n                console.error(\"Error request:\", err.request)\r\n            } else {\r\n                console.error(\"Error message:\", err.message)\r\n            }\r\n            setAlert('danger')\r\n            setError(err.response?.data?.message || \"An error occurred during registration. Please try again.\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"register-page\">\r\n            <NavigationBar />\r\n            <Container className=\"register-container\">\r\n                <Form className=\"register-form\" onSubmit={handleSubmit}>\r\n                    <Form.Group className=\"register-form-group\">\r\n                        <Form.Label className=\"register-form-label\" htmlFor=\"username\">Username</Form.Label>\r\n                        <Form.Control\r\n                            className=\"register-form-control\"\r\n                            id=\"username\"\r\n                            type=\"text\"\r\n                            name=\"username\"\r\n                            value={newUser.username}\r\n                            onChange={handleChange}\r\n                            placeholder=\"Enter username\"\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"register-form-group\">\r\n                        <Form.Label className=\"register-form-label\" htmlFor=\"email\">Email</Form.Label>\r\n                        <Form.Control\r\n                            className=\"register-form-control\"\r\n                            id=\"email\"\r\n                            type=\"email\"\r\n                            name=\"email\"\r\n                            value={newUser.email}\r\n                            onChange={handleChange}\r\n                            placeholder=\"Enter email\"\r\n                        />\r\n                    </Form.Group>\r\n                    <Form.Group className=\"register-form-group\">\r\n                        <Form.Label className=\"register-form-label\" htmlFor=\"password\">Password</Form.Label>\r\n                        <Form.Control\r\n                            className=\"register-form-control\"\r\n                            id=\"password\"\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            value={newUser.password}\r\n                            onChange={handleChange}\r\n                            placeholder=\"Enter password\"\r\n                        />\r\n                    </Form.Group>\r\n                    <Button\r\n                        className=\"register-submit-btn\"\r\n                        type=\"submit\"\r\n                        onClick={handleSubmit}\r\n                    >\r\n                        Register\r\n                    </Button>\r\n                    <div className=\"register-login-link\">\r\n                        Already have an account? <Link to=\"/login\">Login</Link>\r\n                    </div>\r\n                    {error && (\r\n                        <div className=\"registration-alert\">\r\n                            {error}\r\n                        </div>\r\n                    )}\r\n                </Form>\r\n            </Container>\r\n            <Footer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Register\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}